import { Steps } from 'nextra/components'

# 静态导出

将页面静态导出后，可部署至 [Nginx](https://nginx.org)、
[GitHub Pages](https://pages.github.com) 等平台。

## 快速开始

<Steps>

### 配置

启用静态导出功能，需在 `next.config.mjs` 文件中更新如下配置：

```js filename="next.config.mjs" {7-10}
import nextra from 'nextra'

/**
 * @type {import('next').NextConfig}
 */
const nextConfig = {
  output: 'export',
  images: {
    unoptimized: true // 必须设置，否则无法导出
  }
  // 可选：修改输出目录 `out` -> `dist`
  // distDir: "build"
}
const withNextra = nextra({
  // ... 其他 Nextra 配置选项
})

export default withNextra(nextConfig)
```

### 更新 `postbuild` 脚本

更新 Pagefind [搜索引擎配置](./search#add-a-postbuild-script) 
以设置正确的输出路径：

```json filename="package.json"
"scripts": {
  "postbuild": "pagefind --site .next/server/app --output-path out/_pagefind"
}
```

### 构建

根据包管理器运行构建命令：

```sh npm2yarn
npm run build
```

默认情况下，静态导出文件将存储在项目根目录的 `out` 文件夹中。

更详细的静态导出文档请参阅 
[Next.js 官方文档](https://nextjs.org/docs/app/building-your-application/deploying/static-exports)。

</Steps>