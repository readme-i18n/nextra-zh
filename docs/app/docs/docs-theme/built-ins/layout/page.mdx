---

sidebarTitle: Layout
---

import { ToggleVisibilitySection } from 'components/toggle-visibility-section'

export function PartialTSDoc({ flattened, props }) {
  return (
    <APIDocs
      flattened={flattened}
      code={`
import { Layout } from 'nextra-theme-docs'
type $ = Pick<React.ComponentProps<typeof Layout>, ${props.map(prop => JSON.stringify(prop)).join('|')}>
export default $`}
    />
  )
}

# 布局组件

主题通过 `<Layout>` 组件进行配置。您应将配置选项作为 Layout 的 `props` 传递，例如：

```jsx filename="app/layout.jsx" {8-9}
import { Layout } from 'nextra-theme-docs'

export default function MyLayout({ children, ...props }) {
  return (
    <html lang="en">
      <body>
        <Layout
          sidebar={{ autoCollapse: true }}
          docsRepositoryBase="https://github.com/shuding/nextra/tree/main/docs"
        >
          {children}
        </Layout>
      </body>
    </html>
  )
}
```

下方列出了每个选项的详细信息。

## Props 属性

## 页面映射

<PartialTSDoc props={['pageMap']} />

## 横幅区

<PartialTSDoc props={['banner']} />

## 导航栏

<PartialTSDoc props={['navbar']} />

<ToggleVisibilitySection element="`<Navbar>`" property="navbar" />

## 页脚

<PartialTSDoc props={['footer']} />

<ToggleVisibilitySection element="`<Footer>`" property="footer" />

## 搜索功能

<PartialTSDoc props={['search']} />

## 文档仓库

设置文档的仓库 URL。用于生成"[编辑此页](#edit-link)"链接、"[反馈](#feedback-link)"链接以及[404页面](https://nextjs.org/docs/app/api-reference/file-conventions/not-found)上的"[报告失效链接](./not-found)"。

<PartialTSDoc props={['docsRepositoryBase']} />

### 指定路径

如果文档位于 monorepo、子文件夹或仓库的不同分支中，您只需将 `docsRepositoryBase` 设置为文档 `app/`（App Router）文件夹的根路径。例如：

```jsx filename="app/layout.jsx"
<Layout docsRepositoryBase="https://github.com/shuding/nextra/tree/main/docs">
  {children}
</Layout>
```

Nextra 将自动为所有页面生成正确的文件路径。

## 暗黑模式与主题

自定义网站的主题行为。

<PartialTSDoc props={['darkMode', 'nextThemes']} />

import Old from './old.mdx'

{process.env.NODE_ENV !== 'production' && <Old />}

## 编辑链接

在页面上显示指向 GitHub（或其他平台）文件 URL 的"编辑此页"链接。

<PartialTSDoc props={['editLink']} />

> [!TIP]
>
> 如需禁用，可将 `editLink` 设为 `null`。

## 反馈链接

内置的反馈链接为用户提供了提交文档反馈的途径。

<PartialTSDoc props={['feedback']} flattened />

> [!TIP]
>
> 如需禁用此功能，可将 `feedback.content` 设为 `null`。

## 国际化支持

<PartialTSDoc props={['i18n']} />

## 最后更新日期

显示页面的最后更新时间。该功能有助于展示内容的新鲜度。

<PartialTSDoc props={['lastUpdated']} />

<ToggleVisibilitySection element="last update date" property="timestamp" />

## 页面导航

在内容底部显示上一页和下一页链接。便于用户在不同页面间跳转。

<PartialTSDoc props={['navigation']} />

![导航栏](/assets/docs/navigation.png)

```jsx filename="app/layout.jsx"
<Layout
  navigation={{
    prev: true,
    next: true
  }}
>
  {children}
</Layout>
```

上述配置等价于 `navigation: true{:js}`。

<ToggleVisibilitySection element="navigation" property="pagination" />

## 侧边栏

<PartialTSDoc props={['sidebar']} flattened />

### 菜单折叠层级

默认情况下，侧边栏菜单会在第 `2` 级折叠。您可以通过设置 `sidebar.defaultMenuCollapseLevel` 来调整该数值。例如：
- 设为 `1` 时，所有文件夹默认折叠
- 设为 `Infinity` 时，所有嵌套文件夹默认展开

若 `sidebar.autoCollapse` 设为 `true`，则所有不包含当前活动路由的文件夹会自动折叠至 `sidebar.defaultMenuCollapseLevel` 设置的层级。例如当 `defaultMenuCollapseLevel` 为 `2` 时，顶级文件夹不会自动折叠。

### 自定义侧边栏内容

结合[分隔符](/docs/docs-theme/page-configuration#separators)配置项，您可以使用 JSX 元素自定义侧边栏渲染效果：

```jsx filename="_meta.jsx" {5-10}
export default {
  index: 'Intro',
  '--': {
    type: 'separator',
    title: (
      <div className="flex items-center gap-2">
        <MyLogo />
        {children}
      </div>
    )
  },
  frameworks: 'JS Frameworks & Libs',
  about: 'About'
}
```

![自定义侧边栏](/assets/docs/sidebar-customized.png)

<ToggleVisibilitySection element="`<Sidebar>`" property="sidebar" />

### 通过 Front Matter 自定义侧边栏

此外，您可以通过 front matter 中的 `sidebarTitle` 属性自定义侧边栏标题：

```mdx filename="getting-started.mdx"
---
sidebarTitle: Getting Started 🚀
---
```

侧边栏标题的优先级如下：

1. 来自 `_meta` 文件的非空标题
1. front matter 中的 `sidebarTitle`
1. front matter 中的 `title`
1. 从第一个 Markdown 一级标题派生的标题（例如 `# Dima Machina`）
1. 如果以上均不可用，则回退到页面文件名，格式遵循 [The Chicago Manual of Style](https://title.sh)

## 主题切换

<PartialTSDoc props={['themeSwitch']} />

您可以自定义选项名称以适配本地化或其他用途：

```jsx filename="app/layout.jsx"
<Layout
  themeSwitch={{
    dark: 'Темный',
    light: 'Светлый',
    system: 'Системный'
  }}
>
  {children}
</Layout>
```

## 目录 (TOC)

在页面右侧显示目录，便于在标题间导航。

<PartialTSDoc props={['toc']} flattened />

### 浮动目录

启用时，目录会显示在页面右侧并在滚动时保持固定；禁用时，目录将直接显示在页面侧边栏中。

<ToggleVisibilitySection element="`<TOC>`" property="toc" />