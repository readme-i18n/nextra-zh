---

icon: MdxIcon
sidebarTitle: mdx-components.js
description:
  Nextra 中的 `mdx-components` 文件对于通过 `useMDXComponents` 函数自定义样式至关重要，允许您全局定义和覆盖 MDX 组件。
---

# `mdx-components.js` 文件

`mdx-components` 文件是**必需的**，您可以通过 `useMDXComponents` 函数来自定义样式。

## 示例

`mdx-components.js` 文件必须导出
[一个名为 `useMDXComponents` 的函数](/api/usemdxcomponents)。

```ts filename="mdx-components.js"
import { useMDXComponents as getThemeComponents } from 'nextra-theme-docs' // nextra-theme-blog or your custom theme

// Get the default MDX components
const themeComponents = getThemeComponents()

// Merge components
export function useMDXComponents(components) {
  return {
    ...themeComponents,
    ...components
  }
}
```

## 错误处理

### 模块未找到：无法解析 `'next-mdx-import-source-file'`

要解决此问题，请更新 `next.config` 文件中的 `turbopack.resolveAlias` 配置：

> [!NOTE]
>
> - 如果使用 Next.js < 15.3 版本，请使用 `experimental.turbopack.resolveAlias`
> - 如果使用 Next.js ≥ 15.3 版本，请使用 `turbopack.resolveAlias`

```diff filename="next.config.mjs"
import nextra from 'nextra'

const withNextra = nextra()

export default withNextra({
+ turbopack: {
+   resolveAlias: {
+     // Path to your `mdx-components` file with extension
+     'next-mdx-import-source-file': './src/mdx-components.tsx'
+   }
+ }
})
```

> [!TIP]
>
> - 您可以将 `mdx-components` 文件保存在项目根目录或 [`src` 目录](./src-directory)中
> - `mdx-components` 文件可使用 `.js`、`.jsx` 或 `.tsx` 扩展名
> - 导入 `useMDXComponents` 时，可将其别名设为 `getMDXComponents` 以避免 ESLint React Hooks 插件的误报错误
>
> ```bash filename="react-hooks/rules-of-hooks"
> React Hook "useMDXComponents" cannot be called at the top level.
> React Hooks must be called in a React function component or a custom React Hook function.
> ```