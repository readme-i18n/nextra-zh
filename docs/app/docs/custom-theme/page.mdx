import { ExampleCode } from 'components/example-code'
import { Steps } from 'nextra/components'
import OldDocs from './old.mdx'

# 自定义主题

Nextra 中的主题类似于布局，它将作为所有页面的包装器进行渲染。本文档将引导您完成创建自定义主题的过程。

> [!NOTE]
>
> 以下自定义主题的源代码可在
> [这里](https://github.com/shuding/nextra/tree/main/examples/custom-theme) 找到。

## 创建自定义主题

<Steps>
### 创建根布局

<ExampleCode example="custom-theme" filePath="app/layout.tsx" />

### 创建 [`mdx-components` 文件](/docs/file-conventions/mdx-components-file)

<ExampleCode
  example="custom-theme"
  filePath="mdx-components.jsx"
  metadata="/toc/2 {9}"
/>
<ExampleCode
  example="custom-theme"
  filePath="app/_components/toc.tsx"
  metadata="/toc/"
/>

### 创建基础主题

现在可以开始构建你的主题了！创建 `nextra-theme.tsx` 文件，它接收一个 `children` 属性（即当前页面的 MDX 内容），并在内容周围包裹其他元素：

<ExampleCode
  example="custom-theme"
  filePath="app/_components/nextra-theme.tsx"
  metadata="/children/"
/>

### 创建导航栏和页脚

<ExampleCode example="custom-theme" filePath="app/_components/footer.tsx" />
<ExampleCode
  example="custom-theme"
  filePath="app/_components/navbar.tsx"
  metadata="/topLevelNavbarItems/"
/>

### 创建侧边栏

<ExampleCode
  example="custom-theme"
  filePath="app/_components/sidebar.tsx"
  metadata="/docsDirectories/"
/>

### 添加首个 MDX 页面

创建主题后，只需添加一个 MDX 文件作为 `app/page.mdx` 即可查看效果：

![自定义主题](/assets/docs/custom-theme.png)

<br />

在主题布局中，可以使用 CSS 导入或其他方式进行样式设计。Next.js 钩子如 `usePathname` 也可使用。

{process.env.NODE_ENV !== 'production' && <OldDocs />}

</Steps>