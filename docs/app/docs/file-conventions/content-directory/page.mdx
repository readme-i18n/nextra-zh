---

icon: FolderIcon
sidebarTitle: content
description: Nextra 中的 `content` 目录允许您在不遵循 `page` 文件命名约定的情况下组织 Markdown 文件，简化从 Next.js `pages` 路由的迁移过程。
---

import fs from 'node:fs/promises'
import { compileMdx } from 'nextra/compile'
import { FileTree, Steps } from 'nextra/components'
import { MDXRemote } from 'nextra/mdx-remote'

export async function MDXPathPage() {
  const filename = '[[...mdxPath]]/page.jsx'
  const rawMdx = `~~~jsx filename="${filename}" showLineNumbers
${(await fs.readFile(`../examples/docs/src/app/docs/${filename}`, 'utf8')).trimEnd()}
~~~`
  const rawJs = await compileMdx(rawMdx, { defaultShowCopyCode: true })
  return <MDXRemote compiledSource={rawJs} />
}

# `content` 目录

`content` 目录的设计目的：

1. 以最小改动迁移现有的 Next.js `pages` 路由，只需将 `pages` 目录重命名为 `content`
1. 避免使用 `page` 文件命名约定，例如 `app/configuration/page.mdx` 可简化为 `content/configuration.mdx`

## 配置

<Steps>

### 创建首个 MDX 页面 `content/index.mdx`：

```mdx filename="content/index.mdx"
# 欢迎使用 Nextra

你好，世界！
```

> [!TIP]
>
> 你可以将 `content` 目录保留在项目根目录下，或者放在
> [`src` 目录](./src-directory)中。

### 在 `next.config` 文件中设置 `contentDirBasePath` 选项（可选）

如需从不同路径提供内容，可以设置
`contentDirBasePath` 选项：

```js filename="next.config.mjs" {4}
import nextra from 'nextra'

const withNextra = nextra({
  contentDirBasePath: '/docs' // 或嵌套路径如 `/docs/advanced`
})
```

### 添加 `[[...mdxPath]]/page.jsx` 文件

将此文件放置在 `app` 目录中，内容如下：

<MDXPathPage />

最终目录结构应如下所示：

<FileTree>
  <FileTree.Folder name="app" open>
    <FileTree.File name="layout.jsx" />
    <FileTree.Folder name="[[...mdxPath]]" open active>
      <FileTree.File name="page.jsx" active />
    </FileTree.Folder>
  </FileTree.Folder>
  <FileTree.Folder name="content" open>
    <FileTree.File name="index.mdx" />
  </FileTree.Folder>
  <FileTree.File name="next.config.js" />
  <FileTree.File name="package.json" />
</FileTree>

> [!TIP]
>
> 将单一捕获所有路由的 `[[...mdxPath]]/page.jsx` 视为通往
> `content` 目录的入口。
>
> 如果在 `next.config` 文件中设置了 `contentDirBasePath` 选项，
> 应将 `[[...mdxPath]]/page.jsx` 放置在对应目录中。

### 一切准备就绪！

> [!NOTE]
>
> 现有许多方案如
> [当 Markdown 内容变更时刷新 Next.js App Router](https://steveruiz.me/posts/nextjs-refresh-content)
> 依赖额外依赖项如 `concurrently` 和 `ws`。这些方法包括
> [Dan Abramov 的临时解决方案：使用 `<AutoRefresh>` 组件和开发 WebSocket 服务](https://github.com/hashicorp/next-remote-watch/issues/42#issuecomment-1794052655)。
>
> Nextra 的 `content` 目录提供了开箱即用的精简方案：
>
> - 无需安装不必要的依赖项
> - 修改 `content` 目录内容时无需重启服务
> - 热重载默认支持
> - 可在 MDX 文件中使用 `import` 语句，
>   [静态图片](/docs/guide/image#static-image)同样适用
>
> 查看 Nextra 的
> [文档网站](https://github.com/shuding/nextra/tree/main/examples/docs) 和
> [国际化网站示例](https://github.com/shuding/nextra/tree/main/examples/swr-site)。

</Steps>